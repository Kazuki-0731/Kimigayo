#
# BusyBox Configuration - Kimigayo OS Minimal Image
# Target: < 500KB binary size
# Use case: Containers, embedded systems, minimal environments
#

CONFIG_HAVE_DOT_CONFIG=y

#
# Settings
#
CONFIG_DESKTOP=n
CONFIG_EXTRA_COMPAT=n
CONFIG_FEDORA_COMPAT=n
CONFIG_INCLUDE_SUSv2=n
CONFIG_LONG_OPTS=y
CONFIG_SHOW_USAGE=y
CONFIG_FEATURE_VERBOSE_USAGE=n
CONFIG_FEATURE_COMPRESS_USAGE=y
CONFIG_LFS=y
CONFIG_PAM=n
CONFIG_FEATURE_DEVPTS=y
CONFIG_FEATURE_UTMP=n
CONFIG_FEATURE_WTMP=n

#
# Build Options
#
CONFIG_STATIC=y
CONFIG_PIE=n
CONFIG_NOMMU=n
CONFIG_BUILD_LIBBUSYBOX=n
CONFIG_FEATURE_LIBBUSYBOX_STATIC=n
CONFIG_FEATURE_INDIVIDUAL=n
CONFIG_FEATURE_SHARED_BUSYBOX=n
CONFIG_CROSS_COMPILER_PREFIX=""
CONFIG_SYSROOT=""
CONFIG_EXTRA_CFLAGS="-Os"
CONFIG_EXTRA_LDFLAGS=""
CONFIG_EXTRA_LDLIBS=""

#
# Installation Options
#
CONFIG_INSTALL_NO_USR=y
CONFIG_INSTALL_APPLET_SYMLINKS=y
CONFIG_INSTALL_APPLET_HARDLINKS=n
CONFIG_INSTALL_APPLET_SCRIPT_WRAPPERS=n
CONFIG_INSTALL_APPLET_DONT=n
CONFIG_PREFIX="./_install"

#
# Archival Utilities - Minimal
#
CONFIG_AR=n
CONFIG_GUNZIP=y
CONFIG_GZIP=y
CONFIG_BZIP2=n
CONFIG_BUNZIP2=n
CONFIG_UNXZ=n
CONFIG_XZ=n
CONFIG_TAR=y
CONFIG_FEATURE_TAR_CREATE=y
CONFIG_FEATURE_TAR_AUTODETECT=y
CONFIG_FEATURE_TAR_FROM=n
CONFIG_FEATURE_TAR_OLDGNU_COMPATIBILITY=n
CONFIG_FEATURE_TAR_OLDSUN_COMPATIBILITY=n
CONFIG_FEATURE_TAR_GNU_EXTENSIONS=y
CONFIG_FEATURE_TAR_LONG_OPTIONS=y
CONFIG_FEATURE_TAR_TO_COMMAND=n
CONFIG_FEATURE_TAR_UNAME_GNAME=n
CONFIG_FEATURE_TAR_NOPRESERVE_TIME=y

#
# Coreutils - Essential only
#
CONFIG_BASENAME=y
CONFIG_CAT=y
CONFIG_CHGRP=y
CONFIG_CHMOD=y
CONFIG_CHOWN=y
CONFIG_CHROOT=y
CONFIG_CP=y
CONFIG_FEATURE_CP_LONG_OPTIONS=y
CONFIG_CUT=y
CONFIG_DATE=y
CONFIG_FEATURE_DATE_ISOFMT=y
CONFIG_DD=y
CONFIG_DF=y
CONFIG_DIRNAME=y
CONFIG_DU=n
CONFIG_ECHO=y
CONFIG_FEATURE_FANCY_ECHO=y
CONFIG_ENV=y
CONFIG_EXPR=n
CONFIG_FALSE=y
CONFIG_HEAD=y
CONFIG_ID=y
CONFIG_LN=y
CONFIG_LS=y
CONFIG_FEATURE_LS_FILETYPES=y
CONFIG_FEATURE_LS_FOLLOWLINKS=y
CONFIG_FEATURE_LS_RECURSIVE=y
CONFIG_FEATURE_LS_SORTFILES=y
CONFIG_FEATURE_LS_TIMESTAMPS=y
CONFIG_FEATURE_LS_USERNAME=y
CONFIG_FEATURE_LS_COLOR=n
CONFIG_MKDIR=y
CONFIG_MKFIFO=n
CONFIG_MKNOD=y
CONFIG_MV=y
CONFIG_PWD=y
CONFIG_RM=y
CONFIG_RMDIR=y
CONFIG_SEQ=n
CONFIG_SH=n
CONFIG_SLEEP=y
CONFIG_SORT=y
CONFIG_SYNC=y
CONFIG_TAIL=y
CONFIG_TEE=n
CONFIG_TEST=y
CONFIG_TOUCH=y
CONFIG_TR=n
CONFIG_TRUE=y
CONFIG_TTY=y
CONFIG_UNAME=y
CONFIG_WC=y
CONFIG_YES=n

#
# Editors - None for minimal
#
CONFIG_VI=n
CONFIG_ED=n

#
# Finding Utilities
#
CONFIG_FIND=y
CONFIG_FEATURE_FIND_PRINT0=y
CONFIG_FEATURE_FIND_MTIME=y
CONFIG_FEATURE_FIND_MMIN=n
CONFIG_FEATURE_FIND_PERM=y
CONFIG_FEATURE_FIND_TYPE=y
CONFIG_FEATURE_FIND_XDEV=y
CONFIG_FEATURE_FIND_MAXDEPTH=y
CONFIG_FEATURE_FIND_NEWER=n
CONFIG_FEATURE_FIND_INUM=n
CONFIG_FEATURE_FIND_EXEC=y
CONFIG_FEATURE_FIND_USER=y
CONFIG_FEATURE_FIND_GROUP=y
CONFIG_FEATURE_FIND_NOT=y
CONFIG_FEATURE_FIND_DEPTH=y
CONFIG_FEATURE_FIND_PAREN=y
CONFIG_FEATURE_FIND_SIZE=y
CONFIG_FEATURE_FIND_PRUNE=y
CONFIG_FEATURE_FIND_DELETE=y
CONFIG_FEATURE_FIND_PATH=y
CONFIG_FEATURE_FIND_REGEX=n
CONFIG_GREP=y
CONFIG_FEATURE_GREP_CONTEXT=n
# Note: EGREP_ALIAS and FGREP_ALIAS removed in BusyBox 1.36.x
CONFIG_XARGS=y

#
# Init Utilities
#
CONFIG_HALT=y
CONFIG_POWEROFF=y
CONFIG_REBOOT=y
CONFIG_INIT=y
CONFIG_FEATURE_USE_INITTAB=y
CONFIG_FEATURE_KILL_REMOVED=n
CONFIG_FEATURE_KILL_DELAY=0
CONFIG_FEATURE_INIT_SCTTY=y
CONFIG_FEATURE_INIT_SYSLOG=y
CONFIG_FEATURE_INIT_QUIET=n
CONFIG_FEATURE_INIT_COREDUMPS=n
CONFIG_INIT_TERMINAL_TYPE="linux"

#
# Login/Password Management - Minimal
#
CONFIG_LOGIN=y
CONFIG_FEATURE_SECURETTY=y
CONFIG_PASSWD=y
CONFIG_SU=y
CONFIG_SULOGIN=y
CONFIG_VLOCK=n

#
# Linux System Utilities
#
CONFIG_DMESG=y
CONFIG_FEATURE_DMESG_PRETTY=n
CONFIG_FBSET=n
CONFIG_FDISK=n
CONFIG_FSCK=n
CONFIG_FSTRIM=n
CONFIG_GETTY=y
CONFIG_HWCLOCK=y
CONFIG_INSMOD=y
CONFIG_LSMOD=y
CONFIG_MODPROBE=y
CONFIG_FEATURE_MODPROBE_BLACKLIST=y
CONFIG_RMMOD=y
CONFIG_MOUNT=y
CONFIG_FEATURE_MOUNT_FAKE=n
CONFIG_FEATURE_MOUNT_VERBOSE=n
CONFIG_FEATURE_MOUNT_HELPERS=n
CONFIG_FEATURE_MOUNT_LABEL=n
CONFIG_FEATURE_MOUNT_NFS=n
CONFIG_FEATURE_MOUNT_CIFS=n
CONFIG_FEATURE_MOUNT_FLAGS=y
CONFIG_FEATURE_MOUNT_FSTAB=y
CONFIG_PIVOT_ROOT=y
CONFIG_RDATE=n
CONFIG_READPROFILE=n
CONFIG_SETCONSOLE=n
CONFIG_SWAPON=y
CONFIG_SWAPOFF=y
CONFIG_SWITCH_ROOT=y
CONFIG_UMOUNT=y
CONFIG_FEATURE_UMOUNT_ALL=y

#
# Networking Utilities - Minimal
#
CONFIG_HOSTNAME=y
CONFIG_IFCONFIG=y
CONFIG_FEATURE_IFCONFIG_STATUS=y
# Note: IFUPDOWN removed in BusyBox 1.36.x
CONFIG_IP=y
CONFIG_FEATURE_IP_ADDRESS=y
CONFIG_FEATURE_IP_LINK=y
CONFIG_FEATURE_IP_ROUTE=y
CONFIG_PING=y
CONFIG_PING6=y
CONFIG_ROUTE=y
CONFIG_WGET=n
CONFIG_FTPGET=n
CONFIG_TELNET=n
CONFIG_NC=n
# Disable TC (Traffic Control) - not compatible with musl/ARM64 kernel headers
CONFIG_TC=n

#
# Process Utilities
#
CONFIG_FREE=y
CONFIG_KILL=y
CONFIG_KILLALL=y
CONFIG_PIDOF=y
CONFIG_PS=y
CONFIG_FEATURE_PS_WIDE=y
CONFIG_FEATURE_PS_LONG=n
CONFIG_TOP=y
CONFIG_FEATURE_TOP_CPU_USAGE_PERCENTAGE=y
CONFIG_FEATURE_TOP_CPU_GLOBAL_PERCENTS=y
CONFIG_FEATURE_TOP_DECIMALS=n
CONFIG_UPTIME=y
CONFIG_WATCH=n

#
# Shells - Minimal ash shell
#
CONFIG_ASH=y
CONFIG_ASH_BASH_COMPAT=n
CONFIG_ASH_JOB_CONTROL=y
CONFIG_ASH_ALIAS=y
CONFIG_ASH_GETOPTS=y
# Note: ASH_BUILTIN_* options removed in BusyBox 1.36.x
CONFIG_ASH_CMDCMD=y
CONFIG_ASH_MAIL=n
CONFIG_ASH_OPTIMIZE_FOR_SIZE=y
CONFIG_ASH_RANDOM_SUPPORT=y
CONFIG_ASH_EXPAND_PRMT=n
CONFIG_HUSH=n
CONFIG_SH_IS_ASH=y
CONFIG_BASH_IS_NONE=y

#
# System Logging Utilities
#
CONFIG_SYSLOGD=y
CONFIG_FEATURE_ROTATE_LOGFILE=y
CONFIG_FEATURE_REMOTE_LOG=n
CONFIG_FEATURE_SYSLOGD_DUP=n
CONFIG_FEATURE_SYSLOGD_READ_BUFFER_SIZE=256
CONFIG_FEATURE_IPC_SYSLOG=y
CONFIG_FEATURE_IPC_SYSLOG_BUFFER_SIZE=16
CONFIG_LOGREAD=y
CONFIG_FEATURE_LOGREAD_REDUCED_LOCKING=n
CONFIG_KLOGD=y

#
# Miscellaneous Utilities - Minimal
#
CONFIG_LESS=n
CONFIG_READLINK=y
CONFIG_WHICH=y
CONFIG_TIME=n
