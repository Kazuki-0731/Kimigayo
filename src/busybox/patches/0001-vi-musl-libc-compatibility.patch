--- a/editors/vi.c
+++ b/editors/vi.c
@@ -2387,10 +2387,11 @@ static int file_size(const char *fn)
 #if ENABLE_FEATURE_VI_SEARCH
 # if ENABLE_FEATURE_VI_REGEX_SEARCH
 // search for pattern starting at p
 static char *char_search(char *p, const char *pat, int dir_and_range)
 {
-	struct re_pattern_buffer preg;
-	const char *err;
+	regex_t preg;
 	char *q;
-	int i, size, range, start;
+	int i, size, range, start, rc;
+	int cflags = REG_NOSUB;
+	regmatch_t match[1];
 
-	re_syntax_options = RE_SYNTAX_POSIX_BASIC & (~RE_DOT_NEWLINE);
+	/* Convert GNU regex options to POSIX cflags */
 	if (ignorecase)
-		re_syntax_options |= RE_ICASE;
+		cflags |= REG_ICASE;
 
-	memset(&preg, 0, sizeof(preg));
-	err = re_compile_pattern(pat, strlen(pat), &preg);
-	preg.not_bol = p != text;
-	preg.not_eol = p != end - 1;
-	if (err != NULL) {
-		status_line_bold("bad search pattern '%s': %s", pat, err);
+	/* Compile pattern using POSIX regex */
+	rc = regcomp(&preg, pat, cflags);
+	if (rc != 0) {
+		char errbuf[256];
+		regerror(rc, &preg, errbuf, sizeof(errbuf));
+		status_line_bold("bad search pattern '%s': %s", pat, errbuf);
+		regfree(&preg);
 		return p;
 	}
 
@@ -2427,9 +2428,31 @@ static char *char_search(char *p, const char *pat, int dir_and_range)
 	q = p - start;
 	if (q < text)
 		q = text;
-	// search for the compiled pattern, preg, in p[]
-	// range < 0, start == size: search backward
-	i = re_search(&preg, q, size, start, range, /*struct re_registers*/ NULL);
+
+	/* POSIX regex doesn't support backward search like GNU re_search */
+	if (range < 0) {
+		/* Backward search: find last match before p */
+		char *last_match = NULL;
+		char *search_pos = q;
+
+		while (search_pos < p) {
+			if (regexec(&preg, search_pos, 1, match, 0) == 0) {
+				char *match_pos = search_pos + match[0].rm_so;
+				if (match_pos >= p)
+					break;
+				last_match = match_pos;
+				search_pos = match_pos + 1;
+			} else {
+				break;
+			}
+		}
+		i = (last_match != NULL) ? (last_match - q) : -1;
+	} else {
+		/* Forward search */
+		char *search_start = q + start;
+		i = (regexec(&preg, search_start, 1, match, 0) == 0) ?
+		    (start + match[0].rm_so) : -1;
+	}
+
 	regfree(&preg);
 	return i < 0 ? NULL : q + i;
 }
